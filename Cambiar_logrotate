- hosts: all
  gather_facts: no
  become: yes               

  tasks:
    - name: Verificar si existe el archivo de logrotate
      ansible.builtin.stat:
        path: /etc/logrotate.d/archivo
      register: archivo_logrotate

    - name: Cambiar el size de 100M a 7M
      ansible.builtin.replace:
        path: /etc/logrotate.d/archivo
        regexp: '(size\s+)([0-9]|[1-9][0-9]|100)M\b'  
        replace: 'size 7M'  
      when: archivo_logrotate.stat.exists
